
PassDialog.dll插件说明  (v0.4，更新于2015年8月10日)

文档翻译：水晶石
--------------------------------------------------------------------------
该插件由Afrow UK开发，是一个NSIS插件，允许您使用以下对话框：
------------------------------------------
密码
用户名和密码
序列号
输入框
这些对话框是嵌入式的（类似于安装选项对话框）。

使用此插件的优点在于密码或序列号是安全的（不会像安装选项那样存储在INI文件中）。
----------------------------
安装
-----------
将PassDialog.dll文件放入您的NSIS\Plugins文件夹，或直接将ZIP文件解压到NSIS\文件夹中。

使用示例请参考 NSIS\Examples\PassDialog* 目录。

功能
--------------------
PassDialog::Dialog [对话框名称] [参数]

返回值：$Var

[对话框名称]: password, userpass, serial, inputbox
$Var: success, back, cancel, error
[参数]: 通用参数（见下文描述）

这是调用插件的常用方式。

PassDialog::InitDialog /NOUNLOAD [对话框名称] [参数]

返回值：$HWNDVar

PassDialog::Show

返回值：$Var

[对话框名称]: password, userpass, serial, inputbox
$HWNDVar: 窗口的句柄
$Var: success, back, cancel, error
[参数]: 通用参数（见下文描述）

此方法允许您在InitDialog和Show调用之间以及“页面离开”功能中使用SendMessage、SetCtlColors等方法修改对话框控件。

对话框

[对话框名称]:

InputBox: 单个输入框的页面。
Password: 单个密码框的页面。
UserPass: 用户名和密码框的页面。
Serial: 可自定义的序列号框页面。
------------------
通用参数
-------------------------
这些参数适用于所有对话框。

/HEADINGTEXT [文本]

要显示在标题标签中的文本。适用于所有对话框。

/GROUPTEXT [文本]

要在组框上显示的文本。适用于所有对话框。
------------------------
密码和用户名密码参数
-----------------------------
这些参数仅适用于密码和用户名密码对话框。

/USERTEXT [标签文本] [框文本]

显示在用户名字段框和标签中的文本。
[标签文本]: 显示在框右侧的文本。
[框文本]: 放置在文本框中的文本。

/PASSTEXT [标签文本] [框文本]

显示在密码字段框和标签中的文本。
[标签文本]: 显示在框右侧的文本。
[框文本]: 放置在文本框中的文本。
----------------------
序列号参数
--------------------------
这些参数仅适用于序列号对话框。

/BOXTOP [顶部]

所有框的顶部位置。

/CENTER

字段框中的文本将居中对齐。

以下参数必须放在所有其他参数之后。

/BOX [左] [宽] 最大长度 [框文本]

创建一个序列号字段框。
[左]: 框距左侧的位置。
[宽]: 框的宽度。
最大长度: 框中可容纳的字符的最大数量。
[框文本]: 最初在文本中显示的文本。

/BOXDASH [左] [宽] 最大长度 [框文本]

与使用/BOX相同，只是在序列号字段框后面放置一个连字符(-)。
---------------------------------------------
输入框参数
------------------------------------------------
这些参数仅适用于输入框对话框，并且必须放在所有其他参数之后。

/BOX [标签文本] [框文本] 最大长度

创建一个带标签的输入框。
[标签文本]: 显示在框右侧的文本。
[框文本]: 放置在输入文本框中的文本。

/BOXRO [标签文本] [框文本] 最大长度

创建一个带标签的只读输入框。所有参数与/BOX相同。

控件ID

您可以在 Contrib\PassDialog\resource.h 文件中找到控件ID定义。